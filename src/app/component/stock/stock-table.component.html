<p-growl [value]="messages" sticky="true"></p-growl>
<div *ngIf="stocksPage">
    <div id="stockTableDiv">
        <p-panel header="Stocks">
            <div id="searchDiv" >
                <div id="searchInputDiv">
                    <input id="companyNameInput"
                           placeholder="Search..."
                           size="30"
                           type="text"
                           pInputText uppercase
                           (ngModelChange)="onCompanyNameSearch($event)"
                           [(ngModel)]="companyNameSearch"/>
                   <!-- <i id="clearSearchIcon"
                       class="fa fa-times-circle fa-2x"
                       (click)="onClearCompanySearch($event)">
                    </i>-->
                </div>
            </div>
            <div id="tableDiv">
                <p-dataTable [(value)]="stocksPage.content"
                             [(selection)]="selectedModelObject"
                             selectionMode="single"
                             [scrollable]="true"
                             [lazy]="true"
                             [paginator]="true"
                             [pageLinks]="10"
                             [responsive]="true"
                             [rows]="20"
                             [rowsPerPageOptions]="[20,35,50]"
                             [totalRecords]="totalRecords"
                             (onRowSelect)="onRowSelect($event)"
                             (onEditComplete)="onEditComplete($event)"
                             (onLazyLoad)="lazyLoadData($event)">

                    <p-column id="tickerSymbolColumn"
                              field="tickerSymbol"
                              header="Ticker"
                              [style]="{'width':'100px'}"
                              [editable]="true">
                    </p-column>

                    <p-column id="lastPriceColumn"
                              field="lastPrice"
                              header="Last Price"
                              [style]="{'width':'100px','text-align':'right'}"
                              [editable]="false">
                    </p-column>

                    <p-column id="companyNameColumn"
                              field="companyName"
                              header="Company"
                              [editable]="true">
                    </p-column>

                    <!--<p-column field="exchange"
                              header="Exchange"
                              [style]="{'width':'50px'}"
                              [editable]="true">
                    </p-column>-->
                </p-dataTable>
            </div>
            <!--   last: {{stocksPage.last}}
            first: {{stocksPage.first}}
            number: {{stocksPage.number}}
            size: {{stocksPage.size}}
            totalElements: {{stocksPage.totalElements}}
            totalPages : {{stocksPage.totalPages}}
            itemsPerPage: {{stocksPage.itemsPerPage}}-->
            <br/>
            <div id="buttonDiv">
                <button
                    type="button"
                    pButton icon="fa-plus"
                    (click)="addButtonClick()"
                    [disabled]="isAddButtonDisabled()"
                    label="Add">
                </button>
<!--                &nbsp;&nbsp;
                <button
                    type="button"
                    pButton icon="fa-minus"
                    (click)="confirmDelete()"
                    [disabled]="isDeleteButtonDisabled()"
                    label="Delete">
                </button>-->
            </div>
            <br/>
        </p-panel>
    </div>
    <div id="stockFormDiv">
        <stock-panel
            [crudPanelService]="stockPanelService">
        </stock-panel>
    </div>
</div>

