<div id="customerAccountTableDiv" ngStyle="">
    <div class="ui-grid ui-grid-responsive ui-grid-pad ui-fluid" style="margin: 10px 0px">
        <div class="ui-grid-row">
            <div class="ui-grid-col-12">
                <p-dataTable [value]="rows"
                             [ngClass]="{'editing-table': crudOperation != CrudOperation.NONE }"
                             selectionMode="single"
                             [(selection)]="selectedModelObject"
                             (onRowSelect)="onRowSelect($event)"
                             (onRowUnselect)="onRowUnSelect($event)"
                             [totalRecords]="totalRows"
                             [loading]="loading"
                             (onRowDblclick)="onRowDoubleClick($event)"
                             [responsive]="true">

                    <p-header>
                        <stock-position-table-buttons>
                        </stock-position-table-buttons>
                    </p-header>
                    <!--
                    public tickerSymbol: string = undefined;
                    public symbolClass: string = undefined;
                    public costBasis: number = undefined;
                    public holdingType: string = undefined;
                    public quantity: number = undefined;
                    public todayGainLossAbsolute: number = undefined;
                    public todayGainLossPercentage: number = undefined;
                    public totalGainLossAbsolute: number = undefined;
                    public totalGainLossPercentage: number = undefined;
                    -->
                    <!----------------------------------------------------------------------------------------------------------
                    TICKER SYMBOL
                    ------------------------------------------------------------------------------------------------------------>
                    <p-column id="tickerSymbolColumn"
                              field="tickerSymbol"
                              header="Ticker"
                              [style]="{'width':'35px'}"
                              [sortable]="true">
                    </p-column>

                    <!----------------------------------------------------------------------------------------------------------
                    QUANTITY
                    ------------------------------------------------------------------------------------------------------------>
                    <p-column id="quantity"
                              field="quantity"
                              header="Shares"
                              [sortable]="true"
                              [style]="{'width':'25px','text-align':'right'}">
                    </p-column>

                    <!----------------------------------------------------------------------------------------------------------
                    LAST PRICE
                    ------------------------------------------------------------------------------------------------------------>
                    <p-column id="lastPrice"
                              header="Last Price"
                              [sortable]="true"
                              [style]="{'width':'30px','text-align':'right'}">
                        <ng-template let-col let-stockPosition="rowData" pTemplate="body">
                            <stock-quote-last-price [stockPriceModelObject]="stockPosition">
                            </stock-quote-last-price>
                        </ng-template>
                    </p-column>

                    <!----------------------------------------------------------------------------------------------------------
                    PURCHASE PRICE
                    ------------------------------------------------------------------------------------------------------------>
                    <p-column id="purchasePrice"
                              header="Purchase Price"
                              [sortable]="true"
                              [style]="{'width':'30px','text-align':'right'}">
                        <ng-template let-col let-stockPosition="rowData" pTemplate="body">
                            <stock-position-purchase-price [stockPosition]="stockPosition">
                            </stock-position-purchase-price>
                        </ng-template>
                    </p-column>

                    <!----------------------------------------------------------------------------------------------------------
                    OPEN PRICE
                    ------------------------------------------------------------------------------------------------------------>
                    <!--
                    <p-column id="openPrice"
                              field="openPrice"
                              header="Open Price"
                              [style]="{'width':'80px','text-align':'right'}">
                        <ng-template let-col let-stockPosition="rowData" pTemplate="body">
                            <currency [currencyValue]="stockPosition[col.field]">
                            </currency>
                        </ng-template>
                    </p-column>
                    -->
                    <!----------------------------------------------------------------------------------------------------------
                    CLOSE PRICE
                    ------------------------------------------------------------------------------------------------------------>
                    <!--
                    <p-column id="closePrice"
                              field="closePrice"
                              header="Close Price"
                              [style]="{'width':'80px','text-align':'right'}">
                        <ng-template let-col let-stockPosition="rowData" pTemplate="body">
                            <currency [currencyValue]="stockPosition[col.field]">
                            </currency>
                        </ng-template>
                    </p-column>
                    -->
                    <!----------------------------------------------------------------------------------------------------------
                    LAST PRICE DATE
                    ------------------------------------------------------------------------------------------------------------>
                    <!--
                    <p-column id="lastPriceChangeColumn"
                              field="lastPriceChange"
                              header="Last Price Change "
                              [style]="{'width':'80px'}"
                              [sortable]="true">
                        <ng-template let-col let-stockPosition="rowData" pTemplate="body">
                            {{stockPosition[col.field] | date: 'y-MM-dd h:mm a' }}
                        </ng-template>
                    </p-column>
                    -->
                    <!----------------------------------------------------------------------------------------------------------
                    TODAY GAIN/LOSS PERCENTAGE
                    ------------------------------------------------------------------------------------------------------------>
                    <p-column id="todayGainLossAbsolute"
                              field="todayGainLossAbsolute"
                              header="Today GL$"
                              [sortable]="true"
                              [style]="{'width':'40px','text-align':'right'}">
                        <ng-template let-col let-stockPosition="rowData" pTemplate="body">
                            <gain-loss-currency [currencyValue]="stockPosition[col.field]"></gain-loss-currency>
                        </ng-template>
                    </p-column>

                    <!----------------------------------------------------------------------------------------------------------
                    TODAY GAIN/LOSS DOLLARS
                    ------------------------------------------------------------------------------------------------------------>
                    <p-column id="todayGainLossPercentage"
                              field="todayGainLossPercentage"
                              header="Today GL%"
                              [sortable]="true"
                              [style]="{'width':'30px','text-align':'right'}">
                        <ng-template let-col let-stockPosition="rowData" pTemplate="body">
                            <gain-loss-percent [percentValue]="stockPosition[col.field]" [divideBy]="100"></gain-loss-percent>
                        </ng-template>
                    </p-column>

                    <!----------------------------------------------------------------------------------------------------------
                    TOTAL GAIN/LOSS ABSOLUTE
                    ------------------------------------------------------------------------------------------------------------>
                    <p-column id="totalGainLossAbsolute"
                              field="totalGainLossAbsolute"
                              header="Total GL$"
                              [sortable]="true"
                              [style]="{'width':'40px','text-align':'right'}">
                        <ng-template let-col let-stockPosition="rowData" pTemplate="body">
                            <gain-loss-currency [currencyValue]="stockPosition[col.field]"></gain-loss-currency>
                        </ng-template>
                    </p-column>

                    <!----------------------------------------------------------------------------------------------------------
                    TOTAL GAIN/LOSS DOLLARS
                    ------------------------------------------------------------------------------------------------------------>
                    <p-column id="totalGainLossPercentage"
                              field="totalGainLossPercentage"
                              header="Today GL%"
                              [sortable]="true"
                              [style]="{'width':'30px','text-align':'right'}">
                        <ng-template let-col let-stockPosition="rowData" pTemplate="body">
                            <gain-loss-percent [percentValue]="stockPosition[col.field]" [divideBy]="100"></gain-loss-percent>
                        </ng-template>
                    </p-column>

                    <!----------------------------------------------------------------------------------------------------------
                    AVG UPSIDE PERCENTAGE
                    ------------------------------------------------------------------------------------------------------------>
                    <p-column id="avgUpsidePercent"
                              header="Avg Upside"
                              [style]="{'width':'20px','text-align':'right'}"
                              [sortable]="true">
                        <ng-template let-col let-stockPosition="rowData" pTemplate="body">
                            <stock-average-upside-percent [stockPriceQuote]="stockPosition"></stock-average-upside-percent>
                        </ng-template>
                    </p-column>

                    <!----------------------------------------------------------------------------------------------------------
                    ANALYST BUY COUNT
                    ------------------------------------------------------------------------------------------------------------>
                    <p-column id="analystBSH"
                              header="Analyst BSH"
                              [style]="{'width':'60px'}">
                        <ng-template let-col let-stockPosition="rowData" pTemplate="body">
                            <stock-analyst-consensus [tickerSymbol]="stockPosition.tickerSymbol"></stock-analyst-consensus>
                        </ng-template>
                    </p-column>

                    <!----------------------------------------------------------------------------------------------------------
                    ANALYST PRICE TARGETS
                    ------------------------------------------------------------------------------------------------------------>
                    <p-column id="analystPriceTargets"
                              header="Analyst Targets"
                              [style]="{'width':'70px'}">
                        <ng-template let-col let-stockPosition="rowData" pTemplate="body">
                            <stock-analyst-price-targets [tickerSymbol]="stockPosition.tickerSymbol"></stock-analyst-price-targets>
                        </ng-template>
                    </p-column>

                    <!----------------------------------------------------------------------------------------------------------
                    HIGH ANALYST PRICE
                    ------------------------------------------------------------------------------------------------------------>
                    <p-column id="highAnalystPrice"
                              field="highAnalystPriceTarget"
                              header="High Analyst PT"
                              [style]="{'width':'30px','text-align':'right'}"
                              [sortable]="true">
                        <ng-template let-col let-stockPosition="rowData" pTemplate="body">
                            <stock-analyst-price-target [tickerSymbol]="stockPosition.tickerSymbol"
                                                        target="high" >
                            </stock-analyst-price-target>
                        </ng-template>
                    </p-column>

                    <!----------------------------------------------------------------------------------------------------------
                    AVG ANALYST PRICE
                    ------------------------------------------------------------------------------------------------------------>
                    <p-column id="avgAnalystPrice"
                              field="avgAnalystPriceTarget"
                              header="Avg Analyst PT"
                              [style]="{'width':'30px','text-align':'right'}"
                              [sortable]="true">
                        <ng-template let-col let-stockPosition="rowData" pTemplate="body">
                            <stock-analyst-price-target [tickerSymbol]="stockPosition.tickerSymbol"
                                                        target="avg" >
                            </stock-analyst-price-target>
                        </ng-template>
                    </p-column>

                    <!----------------------------------------------------------------------------------------------------------
                    LOW ANALYST PRICE
                    ------------------------------------------------------------------------------------------------------------>
                    <p-column id="lowAnalystPrice"
                              field="lowAnalystPriceTarget"
                              header="Low Analyst PT"
                              [style]="{'width':'30px','text-align':'right'}"
                              [sortable]="true">
                        <ng-template let-col let-stockPosition="rowData" pTemplate="body">
                            <stock-analyst-price-target [tickerSymbol]="stockPosition.tickerSymbol"
                                                        target="low" >
                            </stock-analyst-price-target>
                        </ng-template>
                    </p-column>

                    <!----------------------------------------------------------------------------------------------------------
                    COST BASIS
                    ------------------------------------------------------------------------------------------------------------>
                    <p-column id="costBasis"
                              header="Cost Basis"
                              [style]="{'width':'80px','text-align':'right'}">
                        <ng-template let-col let-stockPosition="rowData" pTemplate="body">
                            <currency [currencyValue]="stockPosition.costBasis"></currency>
                        </ng-template>
                    </p-column>

                    <!----------------------------------------------------------------------------------------------------------
                    MARKET VALUE
                    ------------------------------------------------------------------------------------------------------------>
                    <p-column id="marketValue"
                              header="Market Value"
                              [style]="{'width':'80px','text-align':'right'}">
                        <ng-template let-col let-stockPosition="rowData" pTemplate="body">
                            <stock-position-market-value [stockPosition]="stockPosition"></stock-position-market-value>
                        </ng-template>
                    </p-column>

                    <p-footer>
                        <stock-position-table-buttons>
                        </stock-position-table-buttons>
                    </p-footer>
                </p-dataTable>
            </div>
        </div>
    </div>
</div>
