<p-dataTable [value]="rows"
             selectionMode="single"
             [(selection)]="selectedModelObject"
             (onRowSelect)="onRowSelect($event)"
             (onRowUnselect)="onRowUnSelect($event)"
             [paginator]="true"
             [pageLinks]="10"
             [rows]="5"
             [loading]="loading"
             [totalRecords]="totalRows"
             [lazy]="true"
             (onLazyLoad)="lazyLoadTable($event)"
             (onRowDblclick)="onRowDoubleClick($event)"
             [responsive]="true">

    <p-header>
        <stock-notes-table-buttons>
        </stock-notes-table-buttons>
    </p-header>

    <!----------------------------------------------------------------------------------------------------------
    TICKER SYMBOL
    ------------------------------------------------------------------------------------------------------------>
    <p-column id="tickerSymbolColumn"
              field="tickerSymbol"
              header="Ticker"
              [style]="{'width':'50px'}"
              [sortable]="true">
    </p-column>

    <!----------------------------------------------------------------------------------------------------------
    NOTES DATE
    ------------------------------------------------------------------------------------------------------------>
    <p-column id="notesDateColumn"
              field="notesDate"
              header="Date"
              [style]="{'width':'80px'}"
              [sortable]="true">
        <ng-template let-col let-stockNotes="rowData" pTemplate="body">
            <date [dateValue]="stockNotes[col.field]"></date>
        </ng-template>
    </p-column>

    <!----------------------------------------------------------------------------------------------------------
    STOCK PRICE WHEN CREATED
    <p-column id="stockPriceColumn"
              field="stockPriceWhenCreated"
              header="Price When Entered"
              [style]="{'width':'80px','text-align':'right'}">
        <ng-template let-col let-stockNotes="rowData" pTemplate="body">
            {{stockNotes[col.field] | currency: 'USD': true }}
        </ng-template>
    </p-column>
    ------------------------------------------------------------------------------------------------------------>

    <!----------------------------------------------------------------------------------------------------------
    LAST PRICE
    ------------------------------------------------------------------------------------------------------------>
    <p-column id="lastPrice"
              field="lastPrice"
              header="Last Price"
              [style]="{'width':'80px','text-align':'right'}">
        <ng-template let-col let-stockNotes="rowData" pTemplate="body">
            <stock-quote-last-price [stockFullQuote]="stockNotes">
            </stock-quote-last-price>
        </ng-template>
    </p-column>

    <!----------------------------------------------------------------------------------------------------------
    LAST PRICE DATE
    ------------------------------------------------------------------------------------------------------------>
    <!--
    <p-column id="lastPriceChangeColumn"
              field="lastPriceChange"
              header="Last Price Change "
              [style]="{'width':'80px'}"
              [sortable]="true">
        <ng-template let-col let-stockNotes="rowData" pTemplate="body">
            {{stockNotes[col.field] | date: 'y-MM-dd h:mm a' }}
        </ng-template>
    </p-column>
    -->

    <!----------------------------------------------------------------------------------------------------------
    PERCENT OF CHANGE
    ------------------------------------------------------------------------------------------------------------>
    <p-column id="percentChange"
              field="percentChange"
              header="% Change Since Entered"
              [style]="{'width':'80px','text-align':'right'}">
        <ng-template let-col let-stockNotes="rowData" pTemplate="body">
            <stock-quote-percent-change-since-created [stockModelObject]="stockNotes"></stock-quote-percent-change-since-created>
        </ng-template>
    </p-column>

    <!----------------------------------------------------------------------------------------------------------
    ACTION TAKEN
    <p-column id="actionTakenColumn"
              field="actionTaken"
              header="Action Taken"
              [style]="{'width':'80px'}"
              [sortable]="true">
        <ng-template let-col let-stockNotes="rowData" pTemplate="body">
            {{getActionTaken( stockNotes[col.field] )}}
        </ng-template>
    </p-column>
    ------------------------------------------------------------------------------------------------------------>

    <!----------------------------------------------------------------------------------------------------------
    ACTION TAKEN SHARES
    <p-column id="actionTakenSharesColumn"
              field="actionTakenShares"
              header="Action Shares"
              [style]="{'width':'80px','text-align':'right'}"
              [sortable]="true">
    </p-column>
    ------------------------------------------------------------------------------------------------------------>

    <!----------------------------------------------------------------------------------------------------------
    NOTES SOURCE
    <p-column id="source"
              field="notesSourceName"
              header="Source"
              [style]="{'width':'120px'}"
              [sortable]="true">
    </p-column>
    ------------------------------------------------------------------------------------------------------------>

    <!----------------------------------------------------------------------------------------------------------
    TAGS
    <p-column id="tags"
              field="tags"
              header="Tags"
              [style]="{'width':'120px'}"
              [sortable]="true">
    </p-column>
    ------------------------------------------------------------------------------------------------------------>

    <!----------------------------------------------------------------------------------------------------------
    BULL OR BEAR
    <p-column id="bullOrBearColumn"
              field="bullOrBear"
              header="Bull or Bear"
              [style]="{'width':'80px'}"
              [sortable]="true">
        <ng-template let-col let-stockNotes="rowData" pTemplate="body">
            {{getBullOrBear( stockNotes[col.field] )}}
        </ng-template>
    </p-column>
    ------------------------------------------------------------------------------------------------------------>

    <!----------------------------------------------------------------------------------------------------------
    NOTES
    ------------------------------------------------------------------------------------------------------------>
    <p-column id="notesColumn"
              field="notes"
              header="Notes">
        <ng-template let-col let-stockNotes="rowData" pTemplate="body">
            <stock-comments [stockNotesContainer]="stockNotes"></stock-comments>
        </ng-template>
    </p-column>

    <p-footer>
        <stock-notes-table-buttons>
        </stock-notes-table-buttons>
    </p-footer>
</p-dataTable>
<stock-notes-dialog>
</stock-notes-dialog>
