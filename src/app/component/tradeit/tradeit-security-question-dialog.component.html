<div *ngIf="showDialog">
    <form [formGroup]="formGroup" (ngSubmit)="onSubmit(formGroup.value)">
        <div class="ui-grid ui-grid-responsive ui-grid-pad ui-fluid" style="margin: 10px 0px">
            <p-dialog header="Security Challenge from {{customerAccount.brokerage}}"
                      [modal]="true"
                      [closable]="false"
                      [closeOnEscape]="false"
                      [responsive]="true"
                      [width]="500"
                      [minWidth]="500"
                      [height]="200"
                      [resizable]="false"
                      [contentStyle]="{'overflow':'visible'}"
                      [(visible)]="showDialog">
                    <div>
                        <!----------------------------------------------------------------------------------------------------------
                        There user needs to provide an answer or selection from multiple choices.  If the securityOptions has contents
                        then it's multiple choice, otherwise it's single choice.
                        ------------------------------------------------------------------------------------------------------------>
                        <div class="crud-form ui-grid-row">
                            <div class="crud-form-label ui-grid-col-2">
                                <label class="crud-form" for="answer">Security Question: {{authenticateResult.securityQuestion}}</label>
                            </div>
                            <div *ngIf="authenticateResult.securityOptions &&
                                        authenticateResult.securityOptions.length == 0; then singleChoice else multipleChoice">
                                <ng-template #singleChoice>
                                    <div class="ui-grid-col-10">
                                        <input id="answer"
                                               formControlName="answer"
                                               placeholder="Required"
                                               maxlength="30"
                                               required
                                               type="text"
                                               pInputText
                                               [(ngModel)]="answer"/>
                                    </div>
                                </ng-template>
                                <ng-template #multipleChoice>
                                    <p-listbox [options]="answers" [(ngModel)]="answer"></p-listbox>
                                </ng-template>
                            </div>
                        </div>
                    </div>
                    <p-footer>
                        footer
                    </p-footer>
            </p-dialog>
        </div>
    </form>
</div>
