<p-panel>
    <div class="crud-form ui-grid-row">
        <div class="ui-grid-col-4 ui-state-default">
            <stock-search (stockSelected)="onStockSelected( $event )"
                          (resetButtonClick)="onResetButtonClick()">
            </stock-search>
        </div>
        <div class="ui-grid-col-8 ui-state-default">
        </div>
    </div>
    <p-dataTable [value]="rows"
                 selectionMode="single"
                 [(selection)]="selectedModelObject"
                 (onRowSelect)="onRowSelect($event)"
                 (onRowUnselect)="onRowUnSelect($event)"
                 [paginator]="true"
                 [pageLinks]="3"
                 [rowsPerPageOptions]="[20,30,40]"
                 [rows]="25"
                 [loading]="loading"
                 [totalRecords]="totalRows"
                 [lazy]="true"
                 (onLazyLoad)="lazyLoadTable($event)"
                 (onRowDblclick)="onRowDoubleClick($event)"
                 [responsive]="true">

        <p-header>
            <stock-catalyst-event-table-buttons>
            </stock-catalyst-event-table-buttons>
        </p-header>

        <!----------------------------------------------------------------------------------------------------------
        TICKER SYMBOL
        ------------------------------------------------------------------------------------------------------------>
        <p-column id="tickerSymbol"
                  field="tickerSymbol"
                  header="Ticker"
                  [style]="{'width':'80px'}"
                  [sortable]="true">
        </p-column>

        <!----------------------------------------------------------------------------------------------------------
        COMPANY NAME
        ------------------------------------------------------------------------------------------------------------>
        <p-column id="companyName"
                  field="companyName"
                  header="Company Name"
                  [style]="{'width':'150px'}"
                  [sortable]="false">
            <ng-template let-col let-stockCatalystEvent="rowData" pTemplate="body">
                <stock-quote (stockQuoteChange)="stockCatalystEvent.stockQuote">
                    {{stockCatalystEvent.stockQuote.companyName}}
                </stock-quote>
            </ng-template>
        </p-column>

        <!----------------------------------------------------------------------------------------------------------
        LAST PRICE
        ------------------------------------------------------------------------------------------------------------>
        <p-column id="lastPrice"
                  field="lastPrice"
                  header="Last Price"
                  [style]="{'width':'80px'}"
                  [sortable]="false">
            <ng-template let-col let-stockCatalystEvent="rowData" pTemplate="body">
                <stock-quote-last-price [stockQuoteContainer]="stockCatalystEvent"
                                        [stockPriceQuoteContainer]="stockCatalystEvent">
                </stock-quote-last-price>
            </ng-template>
        </p-column>

        <!----------------------------------------------------------------------------------------------------------
        CATALYST DATE
        ------------------------------------------------------------------------------------------------------------>
        <p-column id="catalystDate"
                  field="catalystDate"
                  header="Date/Period"
                  [style]="{'width':'80px'}"
                  [sortable]="true">
            <ng-template let-col let-stockCatalystEvent="rowData" pTemplate="body">
                <dateOrTimePeriod [stockCatalystEvent]="stockCatalystEvent"></dateOrTimePeriod>
            </ng-template>
        </p-column>

        <!----------------------------------------------------------------------------------------------------------
        CATALYST DESCRIPTION
        ------------------------------------------------------------------------------------------------------------>
        <p-column id="catalystDesc"
                  field="catalystDesc"
                  header="Description"
                  [sortable]="false">
            <ng-template let-col let-stockCatalystEvent="rowData" pTemplate="body">
                <stock-comments [stockNotesContainer]="stockCatalystEvent"></stock-comments>
            </ng-template>
        </p-column>

        <p-footer>
            <stock-catalyst-event-table-buttons>
            </stock-catalyst-event-table-buttons>
        </p-footer>

    </p-dataTable>
    <stock-catalyst-event-dialog>
    </stock-catalyst-event-dialog>
</p-panel>
