<p-panel id="stockAnalyticsPanelDiv" header="Stock Analytics">
    <div>
        PT = Price Target
    </div>
    <div id="stockAnalyticsTableDiv">
        <p-dataTable [value]="rows"
                     selectionMode="single"
                     [(selection)]="selectedModelObject"
                     (onRowSelect)="onRowSelect($event)"
                     (onRowUnselect)="onRowUnSelect($event)"
                     [paginator]="true"
                     [pageLinks]="3"
                     [rowsPerPageOptions]="[20,30,40]"
                     [rows]="25"
                     [loading]="loading"
                     (onRowDblclick)="onRowDoubleClick($event)"
                     [responsive]="true">

            <!----------------------------------------------------------------------------------------------------------
            TICKER SYMBOL
            ------------------------------------------------------------------------------------------------------------>
            <p-column id="tickerSymbol"
                      field="tickerSymbol"
                      header="Ticker"
                      [style]="{'width':'80px'}"
                      [sortable]="true">
            </p-column>

            <!----------------------------------------------------------------------------------------------------------
            AVG UPSIDE PERCENTAGE
            ------------------------------------------------------------------------------------------------------------>
            <p-column id="avgUpsidePercent"
                      field="avgUpsidePercent"
                      header="Avg Upside"
                      [style]="{'width':'80px','text-align':'right'}"
                      [sortable]="true">
                <ng-template let-col let-stockAnalytics="rowData" pTemplate="body">
                    {{stockAnalytics[col.field] | percent:'1.2-2' }}
                </ng-template>
            </p-column>

            <!----------------------------------------------------------------------------------------------------------
            COMPANY NAME
            ------------------------------------------------------------------------------------------------------------>
            <!--
            <p-column id="companyName"
                      field="companyName"
                      header="Company Name"
                      [style]="{'width':'150px'}"
                      [sortable]="false">
            </p-column> -->

            <!----------------------------------------------------------------------------------------------------------
            COMMENTS
            ------------------------------------------------------------------------------------------------------------>
            <p-column id="comments"
                      field="comments"
                      header="Comments"
                      [style]="{'width':'150px'}"
                      [sortable]="false">
            </p-column>

            <!----------------------------------------------------------------------------------------------------------
            ANALYST BUY COUNT
            ------------------------------------------------------------------------------------------------------------>
            <p-column id=""
                      field="analystByCount"
                      header="Analyst BSH"
                      [style]="{'width':'120px'}">
                <ng-template let-col let-stockAnalytics="rowData" pTemplate="body">
                    <span class="strongBuy">       {{stockAnalytics['analystStrongBuyCount']}}</span><!--
                    --><span class="buy">          {{stockAnalytics['analystBuyCount']}}</span><!--
                    --><span class="hold">         {{stockAnalytics['analystHoldCount']}}</span><!--
                    --><span class="underPerform"> {{stockAnalytics['analystUnderPerformCount']}}</span><!--
                    --><span class="sell">         {{stockAnalytics['analystSellCount']}}</span>
                </ng-template>
            </p-column>

            <!----------------------------------------------------------------------------------------------------------
            ANALYST SENTIMENT DATE
            ------------------------------------------------------------------------------------------------------------>
            <p-column id="analystSentimentDate"
                      field="analystSentimentDate"
                      header="Sentiment Date"
                      [style]="{'width':'80px'}"
                      [sortable]="true">
                <ng-template let-col let-stockAnalytics="rowData" pTemplate="body">
                    {{stockAnalytics[col.field] | date: 'y-MM-dd' }}
                </ng-template>
            </p-column>

            <!----------------------------------------------------------------------------------------------------------
            HIGH ANALYST PRICE
            ------------------------------------------------------------------------------------------------------------>
            <p-column id="highAnalystPrice"
                      field="highAnalystPriceTarget"
                      header="High Analyst PT"
                      [style]="{'width':'80px','text-align':'right'}"
                      [sortable]="false">
                <ng-template let-col let-stockAnalytics="rowData" pTemplate="body">
                    {{stockAnalytics[col.field] | currency: 'USD' : true }}
                </ng-template>
            </p-column>

            <!----------------------------------------------------------------------------------------------------------
            AVG ANALYST PRICE
            ------------------------------------------------------------------------------------------------------------>
            <p-column id="avgAnalystPrice"
                      field="avgAnalystPriceTarget"
                      header="Avg Analyst PT"
                      [style]="{'width':'80px','text-align':'right'}"
                      [sortable]="false">
                <ng-template let-col let-stockAnalytics="rowData" pTemplate="body">
                    {{stockAnalytics[col.field] | currency: 'USD' : true }}
                </ng-template>
            </p-column>

            <!----------------------------------------------------------------------------------------------------------
            LOW ANALYST PRICE
            ------------------------------------------------------------------------------------------------------------>
            <p-column id="lowAnalystPrice"
                      field="lowAnalystPriceTarget"
                      header="Low Analyst PT"
                      [style]="{'width':'80px','text-align':'right'}"
                      [sortable]="false">
                <ng-template let-col let-stockAnalytics="rowData" pTemplate="body">
                    {{stockAnalytics[col.field] | currency: 'USD' : true }}
                </ng-template>
            </p-column>

            <!----------------------------------------------------------------------------------------------------------
            LAST PRICE
            ------------------------------------------------------------------------------------------------------------>
            <p-column id="lastPrice"
                      field="lastPrice"
                      header="Last Price"
                      [style]="{'width':'80px','text-align':'right'}"
                      [sortable]="true">
                <ng-template let-col let-stockAnalytics="rowData" pTemplate="body">
                    {{stockAnalytics[col.field] | currency: 'USD' : true }}
                </ng-template>
            </p-column>

            <!----------------------------------------------------------------------------------------------------------
            LAST PRICE CHANGE
            ------------------------------------------------------------------------------------------------------------>
            <p-column id="analystPriceDate"
                      field="analystPriceDate"
                      header="PT Date"
                      [style]="{'width':'80px'}">
                <ng-template let-col let-stockAnalytics="rowData" pTemplate="body">
                    {{stockAnalytics[col.field] | date: 'y-MM-dd' }}
                </ng-template>
            </p-column>

            <p-footer>
                <stock-analytics-table-buttons>
                </stock-analytics-table-buttons>
            </p-footer>
        </p-dataTable>
    </div>
</p-panel>
<stock-analytics-dialog>
</stock-analytics-dialog>
